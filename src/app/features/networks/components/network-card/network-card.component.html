<div class="bg-zinc-800/50 border border-zinc-700 rounded-xl p-4 flex flex-col h-full min-h-[180px]">
  <!-- Header -->
  <div class="flex items-start justify-between mb-3">
    <div class="flex-1 min-w-0">
      <h3 class="font-semibold text-white truncate">{{ network().name }}</h3>
      <div class="flex items-center gap-2 mt-0.5">
        <span class="w-2 h-2 rounded-full bg-green-500"></span>
        <span class="text-xs text-zinc-400">{{ driverInfo() }}</span>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <span class="text-xs text-zinc-500">
        {{ containerCount() }} container{{ containerCount() !== 1 ? 's' : '' }}
      </span>
      <button
        type="button"
        class="p-1 rounded hover:bg-zinc-700 text-zinc-400 hover:text-white transition-colors"
        title="Network info"
      >
        <lucide-icon [img]="Info" class="w-4 h-4"></lucide-icon>
      </button>
    </div>
  </div>

  <!-- Default badge -->
  @if (isDefault()) {
    <div class="mb-3">
      <span class="px-2 py-0.5 text-xs rounded bg-orange-500/20 text-orange-400 border border-orange-500/30">
        Default
      </span>
    </div>
  }

  <!-- Connected containers / Drop zone -->
  <div
    class="flex-1 min-h-[60px]"
    cdkDropList
    [id]="dropListId()"
    [cdkDropListData]="network()"
    [cdkDropListConnectedTo]="connectedDropLists()"
    (cdkDropListDropped)="onDrop($event)"
    [class.border-dashed]="containerCount() === 0"
    [class.border-2]="containerCount() === 0"
    [class.border-zinc-600]="containerCount() === 0"
    [class.rounded-lg]="containerCount() === 0"
    [class.flex]="containerCount() === 0"
    [class.items-center]="containerCount() === 0"
    [class.justify-center]="containerCount() === 0"
  >
    @if (containerCount() > 0) {
      <div class="flex flex-wrap gap-2">
        @for (container of containers(); track container.id) {
          <app-container-chip
            [container]="container"
            [removable]="true"
            [compact]="true"
            (removed)="onContainerRemoved(container)"
          />
        }
      </div>
    } @else {
      <div class="text-center text-zinc-500">
        <lucide-icon [img]="Plus" class="w-6 h-6 mx-auto mb-1 opacity-50"></lucide-icon>
        <p class="text-xs">No containers</p>
        <p class="text-xs opacity-60">Drag containers here to connect</p>
      </div>
    }
  </div>
</div>
